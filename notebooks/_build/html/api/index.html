
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>API Reference &#8212; Py-Feat</title>
    
  <link rel="stylesheet" href="../_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../_static/sphinx-book-theme.37f24b989f4638ff9c27c22dc7559d4f.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.d3f166471bb80abb5163.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.7d483ff0a819d6edff12ce0b1ead3928.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Contribute" href="../content/contribute.html" />
    <link rel="prev" title="Contributing new detectors" href="../content/modelContribution.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  <img src="../_static/pyfeat_logo_small.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Py-Feat</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../content/intro.html">
   Py-Feat: Python Facial Expression Analysis Toolbox
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Installation
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../content/installation.html">
   Installation example
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Tutorials
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../content/detector.html">
   Detecting FEX from images
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../content/detector.html#detecting-fex-from-videos">
   Detecting FEX from videos
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../content/analysis.html">
   Preprocessing FEX data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../content/analysis.html#analyzing-fex-data">
   Analyzing FEX data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../content/plotting.html">
   Plotting examples
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../content/loadingOtherFiles.html">
   Loading data from other detectors
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../content/trainAUvisModel.html">
   Training AU visualization model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../content/modelContribution.html">
   Contributing new detectors
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  API
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   API Reference
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="#module-feat.detector">
   feat.detector module
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="#module-feat.data">
   feat.data module
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="#module-feat.plotting">
   feat.plotting module
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="#module-feat.utils">
   feat.utils module
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="#module-feat.version">
   feat.version module
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="#module-feat">
   Module contents
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Contributing
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../content/contribute.html">
   Contribute
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference external" href="https://github.com/cosanlab/py-feat">
   GitHub Repository
   <i class="fas fa-external-link-alt">
   </i>
  </a>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/api/index.rst"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.rst</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/cosanlab/py-feat"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/cosanlab/py-feat/issues/new?title=Issue%20on%20page%20%2Fapi/index.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>


            <!-- Full screen (wrap in <a> to have style consistency -->
            <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                    data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                    title="Fullscreen mode"><i
                        class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   API Reference
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#module-feat.detector">
   feat.detector module
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#module-feat.data">
   feat.data module
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#module-feat.plotting">
   feat.plotting module
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#module-feat.utils">
   feat.utils module
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#module-feat.version">
   feat.version module
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#module-feat">
   Module contents
  </a>
 </li>
</ul>

        </nav>
        
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="api-reference">
<h1>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h1>
<p>This reference provides detailed documentation for all the features in FEAT</p>
</div>
<div class="section" id="module-feat.detector">
<span id="feat-detector-module"></span><h1>feat.detector module<a class="headerlink" href="#module-feat.detector" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="feat.detector.Detector">
<em class="property">class </em><code class="sig-prename descclassname">feat.detector.</code><code class="sig-name descname">Detector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">face_model</span><span class="o">=</span><span class="default_value">'retinaface'</span></em>, <em class="sig-param"><span class="n">landmark_model</span><span class="o">=</span><span class="default_value">'mobilenet'</span></em>, <em class="sig-param"><span class="n">au_model</span><span class="o">=</span><span class="default_value">'rf'</span></em>, <em class="sig-param"><span class="n">emotion_model</span><span class="o">=</span><span class="default_value">'resmasknet'</span></em>, <em class="sig-param"><span class="n">n_jobs</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.detector.Detector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="feat.detector.Detector.detect_aus">
<code class="sig-name descname">detect_aus</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">frame</span></em>, <em class="sig-param"><span class="n">landmarks</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.detector.Detector.detect_aus" title="Permalink to this definition">¶</a></dt>
<dd><p>Detect Action Units from image or video frame</p>
<dl>
<dt>Args:</dt><dd><p>frame (array): image loaded in array format (n, m, 3)
landmarks (array): 68 landmarks used to localize face.</p>
</dd>
<dt>Returns:</dt><dd><p>array: Action Unit predictions</p>
</dd>
<dt>Examples: </dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">cv2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">frame</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="n">imgfile</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">feat</span> <span class="kn">import</span> <span class="n">Detector</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">detector</span> <span class="o">=</span> <span class="n">Detector</span><span class="p">()</span>        
<span class="gp">&gt;&gt;&gt; </span><span class="n">detector</span><span class="o">.</span><span class="n">detect_aus</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.detector.Detector.detect_emotions">
<code class="sig-name descname">detect_emotions</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">frame</span></em>, <em class="sig-param"><span class="n">facebox</span></em>, <em class="sig-param"><span class="n">landmarks</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.detector.Detector.detect_emotions" title="Permalink to this definition">¶</a></dt>
<dd><p>Detect emotions from image or video frame</p>
<dl>
<dt>Args:</dt><dd><p>frame ([type]): [description]
facebox ([type]): [description]
landmarks ([type]): [description]</p>
</dd>
<dt>Returns:</dt><dd><p>array: Action Unit predictions</p>
</dd>
<dt>Examples: </dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">cv2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">frame</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="n">imgfile</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">feat</span> <span class="kn">import</span> <span class="n">Detector</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">detector</span> <span class="o">=</span> <span class="n">Detector</span><span class="p">()</span>        
<span class="gp">&gt;&gt;&gt; </span><span class="n">detected_faces</span> <span class="o">=</span> <span class="n">detector</span><span class="o">.</span><span class="n">detect_faces</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">detected_landmarks</span> <span class="o">=</span> <span class="n">detector</span><span class="o">.</span><span class="n">detect_landmarks</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">detected_faces</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">detector</span><span class="o">.</span><span class="n">detect_emotions</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">detected_faces</span><span class="p">,</span> <span class="n">detected_landmarks</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.detector.Detector.detect_faces">
<code class="sig-name descname">detect_faces</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">frame</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.detector.Detector.detect_faces" title="Permalink to this definition">¶</a></dt>
<dd><p>Detect faces from image or video frame</p>
<dl>
<dt>Args:</dt><dd><p>frame (array): image array</p>
</dd>
<dt>Returns:</dt><dd><p>array: face detection results (x, y, x2, y2)</p>
</dd>
<dt>Examples: </dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">cv2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">frame</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="n">imgfile</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">feat</span> <span class="kn">import</span> <span class="n">Detector</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">detector</span> <span class="o">=</span> <span class="n">Detector</span><span class="p">()</span>        
<span class="gp">&gt;&gt;&gt; </span><span class="n">detector</span><span class="o">.</span><span class="n">detect_faces</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.detector.Detector.detect_image">
<code class="sig-name descname">detect_image</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inputFname</span></em>, <em class="sig-param"><span class="n">outputFname</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.detector.Detector.detect_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Detects FEX from an image file.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>inputFname (str, or list of str): Path to image file or a list of paths to image files.
outputFname (str, optional): Path to output file. Defaults to None.</p>
</dd>
<dt>Rseturns:</dt><dd><p>Fex: Prediction results dataframe if outputFname is None. Returns True if outputFname is specified.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.detector.Detector.detect_landmarks">
<code class="sig-name descname">detect_landmarks</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">frame</span></em>, <em class="sig-param"><span class="n">detected_faces</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.detector.Detector.detect_landmarks" title="Permalink to this definition">¶</a></dt>
<dd><p>Detect landmarks from image or video frame</p>
<dl>
<dt>Args:</dt><dd><p>frame (array): image array
detected_faces (array):</p>
</dd>
<dt>Returns:</dt><dd><p>list: x and y landmark coordinates (1,68,2)</p>
</dd>
<dt>Examples: </dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">cv2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">frame</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="n">imgfile</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">feat</span> <span class="kn">import</span> <span class="n">Detector</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">detector</span> <span class="o">=</span> <span class="n">Detector</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">detected_faces</span> <span class="o">=</span> <span class="n">detector</span><span class="o">.</span><span class="n">detect_faces</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>        
<span class="gp">&gt;&gt;&gt; </span><span class="n">detector</span><span class="o">.</span><span class="n">detect_landmarks</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">detected_faces</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.detector.Detector.detect_video">
<code class="sig-name descname">detect_video</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inputFname</span></em>, <em class="sig-param"><span class="n">outputFname</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">skip_frames</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.detector.Detector.detect_video" title="Permalink to this definition">¶</a></dt>
<dd><p>Detects FEX from a video file.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>inputFname (str): Path to video file
outputFname (str, optional): Path to output file. Defaults to None.
skip_frames (int, optional): Number of every other frames to skip for speed or if not all frames need to be processed. Defaults to 1.</p>
</dd>
<dt>Returns:</dt><dd><p>dataframe: Prediction results dataframe if outputFname is None. Returns True if outputFname is specified.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.detector.Detector.extract_face">
<code class="sig-name descname">extract_face</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">frame</span></em>, <em class="sig-param"><span class="n">detected_faces</span></em>, <em class="sig-param"><span class="n">landmarks</span></em>, <em class="sig-param"><span class="n">size_output</span><span class="o">=</span><span class="default_value">112</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.detector.Detector.extract_face" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract a face in a frame with a convex hull of landmarks.</p>
<p>This function extracts the faces of the frame with convex hulls and masks out the rest.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>frame (array): The original image]
detected_faces (list): face bounding box
landmarks (list): the landmark information]
size_output (int, optional): [description]. Defaults to 112.</p>
</dd>
<dt>Returns:</dt><dd><p>resized_face_np: resized face as a numpy array
new_landmarks: landmarks of aligned face</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.detector.Detector.extract_hog">
<code class="sig-name descname">extract_hog</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">frame</span></em>, <em class="sig-param"><span class="n">orientation</span><span class="o">=</span><span class="default_value">8</span></em>, <em class="sig-param"><span class="n">pixels_per_cell</span><span class="o">=</span><span class="default_value">8, 8</span></em>, <em class="sig-param"><span class="n">cells_per_block</span><span class="o">=</span><span class="default_value">2, 2</span></em>, <em class="sig-param"><span class="n">visualize</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.detector.Detector.extract_hog" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract HOG features from a frame.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>frame (array]): Frame of image]
orientation (int, optional): Orientation for HOG. Defaults to 8.
pixels_per_cell (tuple, optional): Pixels per cell for HOG. Defaults to (8,8).
cells_per_block (tuple, optional): Cells per block for HOG. Defaults to (2,2).
visualize (bool, optional): Whether to provide the HOG image. Defaults to False.</p>
</dd>
<dt>Returns:</dt><dd><p>hog_output: array of HOG features, and the HOG image if visualize is True.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.detector.Detector.process_frame">
<code class="sig-name descname">process_frame</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">frame</span></em>, <em class="sig-param"><span class="n">counter</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.detector.Detector.process_frame" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to run face detection, landmark detection, and emotion detection on a frame.</p>
<dl>
<dt>Args:</dt><dd><p>frame (np.array): Numpy array of image, ideally loaded through Pillow.Image
counter (int, str, default=0): Index used for the prediction results dataframe.</p>
</dd>
<dt>Returns:</dt><dd><p>df (dataframe): Prediction results dataframe.</p>
</dd>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pil</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">frame</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;input.jpg&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">detector</span> <span class="o">=</span> <span class="n">Detector</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">detector</span><span class="o">.</span><span class="n">process_frame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">frame</span><span class="p">))</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-feat.data">
<span id="feat-data-module"></span><h1>feat.data module<a class="headerlink" href="#module-feat.data" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="feat.data.Fex">
<em class="property">class </em><code class="sig-prename descclassname">feat.data.</code><code class="sig-name descname">Fex</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.core.frame.DataFrame</span></code></p>
<p>Fex is a class to represent facial expression (Fex) data</p>
<p>Fex class is  an enhanced pandas dataframe, with extra attributes and methods to help with facial expression data analysis.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>filename: (str, optional) path to file
detector: (str, optional) name of software used to extract Fex. (Feat, FACET, OpenFace, or Affectiva)
sampling_freq (float, optional): sampling rate of each row in Hz; defaults to None
features (pd.Dataframe, optional): features that correspond to each Fex row
sessions: Unique values indicating rows associated with a specific session (e.g., trial, subject, etc).Must be a 1D array of n_samples elements; defaults to None</p>
</dd>
</dl>
<dl class="py method">
<dt id="feat.data.Fex.append">
<code class="sig-name descname">append</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">session_id</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">axis</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Append a new Fex object to an existing object</p>
<dl class="simple">
<dt>Args:</dt><dd><p>data: (Fex) Fex instance to append
session_id: session label
axis: ([0,1]) Axis to append. Rows=0, Cols=1</p>
</dd>
<dt>Returns:</dt><dd><p>Fex instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.aus">
<code class="sig-name descname">aus</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.aus" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the Action Units data</p>
<p>Returns Action Unit data using the columns set in fex.au_columns.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>DataFrame: Action Units data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.baseline">
<code class="sig-name descname">baseline</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">baseline</span><span class="o">=</span><span class="default_value">'median'</span></em>, <em class="sig-param"><span class="n">normalize</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ignore_sessions</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.baseline" title="Permalink to this definition">¶</a></dt>
<dd><p>Reference a Fex object to a baseline.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>method: {‘median’, ‘mean’, ‘begin’, FexSeries instance}. Will subtract baseline from Fex object (e.g., mean, median).  If passing a Fex object, it will treat that as the baseline.
normalize: (str). Can normalize results of baseline. Values can be [None, ‘db’,’pct’]; default None.
ignore_sessions: (bool) If True, will ignore Fex.sessions information. Otherwise, method will be applied separately to each unique session.</p>
</dd>
<dt>Returns:</dt><dd><p>Fex object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.calc_pspi">
<code class="sig-name descname">calc_pspi</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.calc_pspi" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.clean">
<code class="sig-name descname">clean</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">detrend</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">standardize</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">confounds</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">low_pass</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">high_pass</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ensure_finite</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">ignore_sessions</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.clean" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean Time Series signal</p>
<p>This function wraps nilearn functionality and can filter, denoise,
detrend, etc.</p>
<p>See <a class="reference external" href="http://nilearn.github.io/modules/generated/nilearn.signal.clean.html">http://nilearn.github.io/modules/generated/nilearn.signal.clean.html</a></p>
<p>This function can do several things on the input signals, in
the following order:</p>
<blockquote>
<div><ul class="simple">
<li><p>detrend</p></li>
<li><p>standardize</p></li>
<li><p>remove confounds</p></li>
<li><p>low- and high-pass filter</p></li>
</ul>
</div></blockquote>
<p>If Fex.sessions is not None, sessions will be cleaned separately.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>confounds: (numpy.ndarray, str or list of Confounds timeseries) Shape must be (instant number, confound number), or just (instant number,). The number of time instants in signals and confounds must be identical (i.e. signals.shape[0] == confounds.shape[0]). If a string is provided, it is assumed to be the name of a csv file containing signals as columns, with an optional one-line header. If a list is provided, all confounds are removed from the input signal, as if all were in the same array.
low_pass: (float) low pass cutoff frequencies in Hz.
high_pass: (float) high pass cutoff frequencies in Hz.
detrend: (bool) If detrending should be applied on timeseries (before confound removal)
standardize: (bool) If True, returned signals are set to unit variance.
ensure_finite: (bool) If True, the non-finite values (NANs and infs) found in the data will be replaced by zeros.
ignore_sessions: (bool) If True, will ignore Fex.sessions information. Otherwise, method will be applied separately to each unique session.</p>
</dd>
<dt>Returns:</dt><dd><p>cleaned Fex instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.decompose">
<code class="sig-name descname">decompose</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">algorithm</span><span class="o">=</span><span class="default_value">'pca'</span></em>, <em class="sig-param"><span class="n">axis</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">n_components</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.decompose" title="Permalink to this definition">¶</a></dt>
<dd><p>Decompose Fex instance</p>
<dl class="simple">
<dt>Args:</dt><dd><p>algorithm: (str) Algorithm to perform decomposition types=[‘pca’,’ica’,’nnmf’,’fa’]
axis: dimension to decompose [0,1]
n_components: (int) number of components. If None then retain as many as possible.</p>
</dd>
<dt>Returns:</dt><dd><p>output: a dictionary of decomposition parameters</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.design">
<code class="sig-name descname">design</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.design" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the design data</p>
<p>Returns the study design information using columns in fex.design_columns.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>DataFrame: time data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.distance">
<code class="sig-name descname">distance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">method</span><span class="o">=</span><span class="default_value">'euclidean'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate distance between rows within a Fex() instance.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>method: type of distance metric (can use any scikit learn or</dt><dd><p>sciypy metric)</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>dist: Outputs a 2D distance matrix.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.downsample">
<code class="sig-name descname">downsample</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">target</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.downsample" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Downsample Fex columns. Relies on nltools.stats.downsample,</dt><dd><p>but ensures that returned object is a Fex object.</p>
</dd>
<dt>Args:</dt><dd><dl class="simple">
<dt>target(float): downsampling target, typically in samples not</dt><dd><p>seconds</p>
</dd>
</dl>
<p>kwargs: additional inputs to nltools.stats.downsample</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.emotions">
<code class="sig-name descname">emotions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.emotions" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the emotion data</p>
<p>Returns emotions data using the columns set in fex.emotion_columns.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>DataFrame: emotion data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.extract_boft">
<code class="sig-name descname">extract_boft</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">min_freq</span><span class="o">=</span><span class="default_value">0.06</span></em>, <em class="sig-param"><span class="n">max_freq</span><span class="o">=</span><span class="default_value">0.66</span></em>, <em class="sig-param"><span class="n">bank</span><span class="o">=</span><span class="default_value">8</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.extract_boft" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract Bag of Temporal features</p>
<dl class="simple">
<dt>Args:</dt><dd><p>min_freq: maximum frequency of temporal filters
max_freq: minimum frequency of temporal filters
bank: number of temporal filter banks, filters are on exponential scale</p>
</dd>
<dt>Returns:</dt><dd><p>wavs: list of Morlet wavelets with corresponding freq
hzs:  list of hzs for each Morlet wavelet</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.extract_max">
<code class="sig-name descname">extract_max</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ignore_sessions</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.extract_max" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract maximum of each feature</p>
<dl class="simple">
<dt>Args:</dt><dd><p>ignore_sessions: (bool) ignore sessions or extract separately by sessions if available.</p>
</dd>
<dt>Returns:</dt><dd><p>fex: (Fex) maximum values for each feature</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.extract_mean">
<code class="sig-name descname">extract_mean</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ignore_sessions</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.extract_mean" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract mean of each feature</p>
<dl class="simple">
<dt>Args:</dt><dd><p>ignore_sessions: (bool) ignore sessions or extract separately by sessions if available.</p>
</dd>
<dt>Returns:</dt><dd><p>Fex: mean values for each feature</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.extract_min">
<code class="sig-name descname">extract_min</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ignore_sessions</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.extract_min" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract minimum of each feature</p>
<dl class="simple">
<dt>Args:</dt><dd><p>ignore_sessions: (bool) ignore sessions or extract separately by sessions if available.</p>
</dd>
<dt>Returns:</dt><dd><p>Fex: (Fex) minimum values for each feature</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.extract_multi_wavelet">
<code class="sig-name descname">extract_multi_wavelet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">min_freq</span><span class="o">=</span><span class="default_value">0.06</span></em>, <em class="sig-param"><span class="n">max_freq</span><span class="o">=</span><span class="default_value">0.66</span></em>, <em class="sig-param"><span class="n">bank</span><span class="o">=</span><span class="default_value">8</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.extract_multi_wavelet" title="Permalink to this definition">¶</a></dt>
<dd><p>Convolve with a bank of morlet wavelets.</p>
<p>Wavelets are equally spaced from min to max frequency. See extract_wavelet for more information and options.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>min_freq: (float) minimum frequency to extract
max_freq: (float) maximum frequency to extract
bank: (int) size of wavelet bank
num_cyc: (float) number of cycles for wavelet
mode: (str) feature to extract, e.g., [‘complex’,’filtered’,’phase’,’magnitude’,’power’]
ignore_sessions: (bool) ignore sessions or extract separately by sessions if available.</p>
</dd>
<dt>Returns:</dt><dd><p>convolved: (Fex instance)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.extract_summary">
<code class="sig-name descname">extract_summary</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mean</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">max</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">min</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">ignore_sessions</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.extract_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract summary of multiple features</p>
<dl class="simple">
<dt>Args:</dt><dd><p>mean: (bool) extract mean of features
max: (bool) extract max of features
min: (bool) extract min of features
ignore_sessions: (bool) ignore sessions or extract separately by sessions if available.</p>
</dd>
<dt>Returns:</dt><dd><p>fex: (Fex)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.extract_wavelet">
<code class="sig-name descname">extract_wavelet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">freq</span></em>, <em class="sig-param"><span class="n">num_cyc</span><span class="o">=</span><span class="default_value">3</span></em>, <em class="sig-param"><span class="n">mode</span><span class="o">=</span><span class="default_value">'complex'</span></em>, <em class="sig-param"><span class="n">ignore_sessions</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.extract_wavelet" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform feature extraction by convolving with a complex morlet wavelet</p>
<dl class="simple">
<dt>Args:</dt><dd><p>freq: (float) frequency to extract
num_cyc: (float) number of cycles for wavelet
mode: (str) feature to extract, e.g., ‘complex’,’filtered’,’phase’,’magnitude’,’power’]
ignore_sessions: (bool) ignore sessions or extract separately by sessions if available.</p>
</dd>
<dt>Returns:</dt><dd><p>convolved: (Fex instance)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.facebox">
<code class="sig-name descname">facebox</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.facebox" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the facebox data</p>
<p>Returns the facebox data using fex.facebox_columns.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>DataFrame: facebox data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.info">
<code class="sig-name descname">info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.info" title="Permalink to this definition">¶</a></dt>
<dd><p>Print all meta data of fex</p>
<p>Loops through metadata set in self._metadata and prints out the information.</p>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.input">
<code class="sig-name descname">input</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.input" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns input column as string</p>
<p>Returns input data in the “input” column.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>string: path to input image</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.isc">
<code class="sig-name descname">isc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">col</span></em>, <em class="sig-param"><span class="n">index</span><span class="o">=</span><span class="default_value">'frame'</span></em>, <em class="sig-param"><span class="n">columns</span><span class="o">=</span><span class="default_value">'input'</span></em>, <em class="sig-param"><span class="n">method</span><span class="o">=</span><span class="default_value">'pearson'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.isc" title="Permalink to this definition">¶</a></dt>
<dd><p>[summary]</p>
<dl class="simple">
<dt>Args:</dt><dd><p>col (str]): Column name to compute the ISC for.
index (str, optional): Column to be used in computing ISC. Usually this would be the column identifying the time such as the number of the frame. Defaults to “frame”.
columns (str, optional): Column to be used for ISC. Usually this would be the column identifying the video or subject. Defaults to “input”.
method (str, optional): Method to use for correlation pearson, kendall, or spearman. Defaults to “pearson”.</p>
</dd>
<dt>Returns:</dt><dd><p>DataFrame: Correlation matrix with index as colmns</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.itersessions">
<code class="sig-name descname">itersessions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.itersessions" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over Fex sessions as (session, series) pairs.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>it: a generator that iterates over the sessions of the fex instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.landmark">
<code class="sig-name descname">landmark</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.landmark" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the landmark data</p>
<p>Returns landmark data using the columns set in fex.landmark_columns.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>DataFrame: landmark data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.landmark_x">
<code class="sig-name descname">landmark_x</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.landmark_x" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the x landmarks.</p>
<p>Returns the x-coordinates for facial landmarks looking for “x” in fex.landmark_columns.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>DataFrame: x landmarks.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.landmark_y">
<code class="sig-name descname">landmark_y</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.landmark_y" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the y landmarks.</p>
<p>Returns the y-coordinates for facial landmarks looking for “y” in fex.landmark_columns.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>DataFrame: y landmarks.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.plot_aus">
<code class="sig-name descname">plot_aus</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">row_n</span></em>, <em class="sig-param"><span class="n">model</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">vectorfield</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">muscles</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ax</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">color</span><span class="o">=</span><span class="default_value">'k'</span></em>, <em class="sig-param"><span class="n">linewidth</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">linestyle</span><span class="o">=</span><span class="default_value">'-'</span></em>, <em class="sig-param"><span class="n">gaze</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.plot_aus" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.plot_detections">
<code class="sig-name descname">plot_detections</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">draw_landmarks</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">draw_facelines</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">muscle</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.plot_detections" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots detection results by Feat.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>draw_landmarks (bool, optional): Whether to draw landmarks. Defaults to True.
draw_facelines (bool, optional): Whether to draw face lines. Defaults to True.
muscle (bool, optional): Whether to draw muscle activations. Defaults to False.</p>
</dd>
<dt>Returns:</dt><dd><p>axes: handle to plot</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param">X</em>, <em class="sig-param">y</em>, <em class="sig-param">model=&lt;class 'sklearn.linear_model._base.LinearRegression'&gt;</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predicts y from X using a sklearn model.</p>
<p>Predict a variable of interest y using your model of choice from X, which can be a list of columns of the Fex instance or a dataframe.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>X (list or DataFrame): List of column names or dataframe to be used as features for prediction
y (string or array): y values to be predicted
model (class, optional): Any sklearn model. Defaults to LinearRegression.
<a href="#id1"><span class="problematic" id="id2">*</span></a>args, <a href="#id3"><span class="problematic" id="id4">**</span></a>kwargs: Model arguments</p>
</dd>
<dt>Returns:</dt><dd><p>model: Fit model instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.read_affectiva">
<code class="sig-name descname">read_affectiva</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.read_affectiva" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads facial expression detection results from Affectiva</p>
<dl class="simple">
<dt>Args:</dt><dd><p>filename (string, optional): Path to file. Defaults to None.</p>
</dd>
<dt>Returns:</dt><dd><p>Fex</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.read_facet">
<code class="sig-name descname">read_facet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.read_facet" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads facial expression detection results from FACET</p>
<dl class="simple">
<dt>Args:</dt><dd><p>filename (string, optional): Path to file. Defaults to None.</p>
</dd>
<dt>Returns:</dt><dd><p>Fex</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.read_feat">
<code class="sig-name descname">read_feat</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.read_feat" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads facial expression detection results from Feat Detector</p>
<dl class="simple">
<dt>Args:</dt><dd><p>filename (string, optional): Path to file. Defaults to None.</p>
</dd>
<dt>Returns:</dt><dd><p>Fex</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.read_file">
<code class="sig-name descname">read_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.read_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads file into FEX class</p>
<p>This function checks the detector set in fex.detector and calls the appropriate read function that helps utilize functionalities of Feat.</p>
<dl class="simple">
<dt>Available detectors include:</dt><dd><p>FACET
OpenFace
Affectiva
Feat</p>
</dd>
<dt>Returns:</dt><dd><p>DataFrame: Fex class</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.read_openface">
<code class="sig-name descname">read_openface</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.read_openface" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads facial expression detection results from OpenFace</p>
<dl class="simple">
<dt>Args:</dt><dd><p>filename (string, optional): Path to file. Defaults to None.</p>
</dd>
<dt>Returns:</dt><dd><p>Fex</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.rectification">
<code class="sig-name descname">rectification</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">std</span><span class="o">=</span><span class="default_value">3</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.rectification" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes time points when the face position moved
more than N standard deviations from the mean.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>std (default 3): standard deviation from mean to remove outlier face locations</p>
</dd>
<dt>Returns:</dt><dd><p>data: cleaned FEX object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.regress">
<code class="sig-name descname">regress</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">fit_intercept</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.regress" title="Permalink to this definition">¶</a></dt>
<dd><p>Regress using nltools.stats.regress.</p>
<p>fMRI-like regression to predict Fex activity (y) from set of regressors (X).</p>
<dl class="simple">
<dt>Args:</dt><dd><p>X (list or str): Independent variable to predict.
y (list or str): Dependent variable to be predicted.
fit_intercept (bool): Whether to add intercept before fitting. Defaults to True.</p>
</dd>
<dt>Returns:</dt><dd><p>betas, t-stats, p-values, df, residuals</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.time">
<code class="sig-name descname">time</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.time" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the time data</p>
<p>Returns the time information using fex.time_columns.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>DataFrame: time data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.ttest_1samp">
<code class="sig-name descname">ttest_1samp</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">popmean</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">threshold_dict</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.ttest_1samp" title="Permalink to this definition">¶</a></dt>
<dd><p>Conducts 1 sample ttest.</p>
<p>Uses scipy.stats.ttest_1samp to conduct 1 sample ttest</p>
<dl class="simple">
<dt>Args:</dt><dd><p>popmean (int, optional): Population mean to test against. Defaults to 0.
threshold_dict ([type], optional): Dictonary for thresholding. Defaults to None. [NOT IMPLEMENTED]</p>
</dd>
<dt>Returns:</dt><dd><p>t, p: t-statistics and p-values</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.ttest_ind">
<code class="sig-name descname">ttest_ind</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">col</span></em>, <em class="sig-param"><span class="n">sessions</span></em>, <em class="sig-param"><span class="n">threshold_dict</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.ttest_ind" title="Permalink to this definition">¶</a></dt>
<dd><p>Conducts 2 sample ttest.</p>
<p>Uses scipy.stats.ttest_ind to conduct 2 sample ttest on column col between sessions.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>col (str): Column names to compare in a t-test between sessions
session_names (tuple): tuple of session names stored in Fex.sessions.
threshold_dict ([type], optional): Dictonary for thresholding. Defaults to None. [NOT IMPLEMENTED]</p>
</dd>
<dt>Returns:</dt><dd><p>t, p: t-statistics and p-values</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fex.upsample">
<code class="sig-name descname">upsample</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">target</span></em>, <em class="sig-param"><span class="n">target_type</span><span class="o">=</span><span class="default_value">'hz'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fex.upsample" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Upsample Fex columns. Relies on nltools.stats.upsample,</dt><dd><p>but ensures that returned object is a Fex object.</p>
</dd>
<dt>Args:</dt><dd><dl class="simple">
<dt>target(float): upsampling target, default ‘hz’ (also ‘samples’,</dt><dd><p>‘seconds’)</p>
</dd>
</dl>
<p>kwargs: additional inputs to nltools.stats.upsample</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="feat.data.FexSeries">
<em class="property">class </em><code class="sig-prename descclassname">feat.data.</code><code class="sig-name descname">FexSeries</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.FexSeries" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.core.series.Series</span></code></p>
<p>This is a sub-class of pandas series. While not having additional methods
of it’s own required to retain normal slicing functionality for the
Fex class, i.e. how slicing is typically handled in pandas.
All methods should be called on Fex below.</p>
<dl class="py method">
<dt id="feat.data.FexSeries.aus">
<code class="sig-name descname">aus</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.FexSeries.aus" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the Action Units data</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>DataFrame: Action Units data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.FexSeries.design">
<code class="sig-name descname">design</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.FexSeries.design" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the design data</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>DataFrame: time data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.FexSeries.emotions">
<code class="sig-name descname">emotions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.FexSeries.emotions" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the emotion data</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>DataFrame: emotion data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.FexSeries.facebox">
<code class="sig-name descname">facebox</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.FexSeries.facebox" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the facebox data</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>DataFrame: facebox data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.FexSeries.info">
<code class="sig-name descname">info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.FexSeries.info" title="Permalink to this definition">¶</a></dt>
<dd><p>Print class meta data.</p>
</dd></dl>

<dl class="py method">
<dt id="feat.data.FexSeries.input">
<code class="sig-name descname">input</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.FexSeries.input" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns input column as string</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>string: path to input image</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.FexSeries.landmark">
<code class="sig-name descname">landmark</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.FexSeries.landmark" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the landmark data</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>DataFrame: landmark data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.FexSeries.landmark_x">
<code class="sig-name descname">landmark_x</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.FexSeries.landmark_x" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the x landmarks.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>DataFrame: x landmarks.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.FexSeries.landmark_y">
<code class="sig-name descname">landmark_y</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.FexSeries.landmark_y" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the y landmarks.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>DataFrame: y landmarks.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.FexSeries.time">
<code class="sig-name descname">time</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.FexSeries.time" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the time data</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>DataFrame: time data</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="feat.data.Fextractor">
<em class="property">class </em><code class="sig-prename descclassname">feat.data.</code><code class="sig-name descname">Fextractor</code><a class="headerlink" href="#feat.data.Fextractor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Fextractor is a class that extracts and merges features from a Fex instance
in preparation for data analysis.</p>
<dl class="py method">
<dt id="feat.data.Fextractor.boft">
<code class="sig-name descname">boft</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fex_object</span></em>, <em class="sig-param"><span class="n">min_freq</span><span class="o">=</span><span class="default_value">0.06</span></em>, <em class="sig-param"><span class="n">max_freq</span><span class="o">=</span><span class="default_value">0.66</span></em>, <em class="sig-param"><span class="n">bank</span><span class="o">=</span><span class="default_value">8</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fextractor.boft" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract Bag of Temporal features</p>
<dl class="simple">
<dt>Args:</dt><dd><p>fex_object: (Fex) Fex instance to extract features from.
min_freq: maximum frequency of temporal filters
max_freq: minimum frequency of temporal filters
bank: number of temporal filter banks, filters are on exponential scale</p>
</dd>
<dt>Returns:</dt><dd><p>wavs: list of Morlet wavelets with corresponding freq
hzs:  list of hzs for each Morlet wavelet</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fextractor.max">
<code class="sig-name descname">max</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fex_object</span></em>, <em class="sig-param"><span class="n">ignore_sessions</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fextractor.max" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract maximum of each feature</p>
<dl class="simple">
<dt>Args:</dt><dd><p>fex_object: (Fex) Fex instance to extract features from.
ignore_sessions: (bool) ignore sessions or extract separately by sessions if available.</p>
</dd>
<dt>Returns:</dt><dd><p>Fex: (Fex) maximum values for each feature</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fextractor.mean">
<code class="sig-name descname">mean</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fex_object</span></em>, <em class="sig-param"><span class="n">ignore_sessions</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fextractor.mean" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract mean of each feature</p>
<dl class="simple">
<dt>Args:</dt><dd><p>fex_object: (Fex) Fex instance to extract features from.
ignore_sessions: (bool) ignore sessions or extract separately by sessions if available.</p>
</dd>
<dt>Returns:</dt><dd><p>Fex: mean values for each feature</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fextractor.merge">
<code class="sig-name descname">merge</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">out_format</span><span class="o">=</span><span class="default_value">'long'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fextractor.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge all extracted features to a single dataframe</p>
<dl class="simple">
<dt>Args:</dt><dd><p>format: (str) Output format of merged data. Can be set to ‘long’ or ‘wide’. Defaults to long.</p>
</dd>
<dt>Returns:</dt><dd><p>merged: (DataFrame) DataFrame containing merged features extracted from a Fex instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fextractor.min">
<code class="sig-name descname">min</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fex_object</span></em>, <em class="sig-param"><span class="n">ignore_sessions</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fextractor.min" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract minimum of each feature</p>
<dl class="simple">
<dt>Args:</dt><dd><p>fex_object: (Fex) Fex instance to extract features from.
ignore_sessions: (bool) ignore sessions or extract separately by sessions if available.</p>
</dd>
<dt>Returns:</dt><dd><p>Fex: (Fex) minimum values for each feature</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fextractor.multi_wavelet">
<code class="sig-name descname">multi_wavelet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fex_object</span></em>, <em class="sig-param"><span class="n">min_freq</span><span class="o">=</span><span class="default_value">0.06</span></em>, <em class="sig-param"><span class="n">max_freq</span><span class="o">=</span><span class="default_value">0.66</span></em>, <em class="sig-param"><span class="n">bank</span><span class="o">=</span><span class="default_value">8</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fextractor.multi_wavelet" title="Permalink to this definition">¶</a></dt>
<dd><p>Convolve with a bank of morlet wavelets.</p>
<p>Wavelets are equally spaced from min to max frequency. See extract_wavelet for more information and options.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>fex_object: (Fex) Fex instance to extract features from.
min_freq: (float) minimum frequency to extract
max_freq: (float) maximum frequency to extract
bank: (int) size of wavelet bank
num_cyc: (float) number of cycles for wavelet
mode: (str) feature to extract, e.g., [‘complex’,’filtered’,’phase’,’magnitude’,’power’]
ignore_sessions: (bool) ignore sessions or extract separately by sessions if available.</p>
</dd>
<dt>Returns:</dt><dd><p>convolved: (Fex instance)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fextractor.summary">
<code class="sig-name descname">summary</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fex_object</span></em>, <em class="sig-param"><span class="n">mean</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">max</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">min</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">ignore_sessions</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fextractor.summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract summary of multiple features
Args:</p>
<blockquote>
<div><p>fex_object: (Fex) Fex instance to extract features from.
mean: (bool) extract mean of features
max: (bool) extract max of features
min: (bool) extract min of features
ignore_sessions: (bool) ignore sessions or extract separately by sessions if available.</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>fex: (Fex)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="feat.data.Fextractor.wavelet">
<code class="sig-name descname">wavelet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fex_object</span></em>, <em class="sig-param"><span class="n">freq</span></em>, <em class="sig-param"><span class="n">num_cyc</span><span class="o">=</span><span class="default_value">3</span></em>, <em class="sig-param"><span class="n">mode</span><span class="o">=</span><span class="default_value">'complex'</span></em>, <em class="sig-param"><span class="n">ignore_sessions</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.data.Fextractor.wavelet" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Args:</dt><dd><p>fex_object: (Fex) Fex instance to extract features from.
freq: (float) frequency to extract
num_cyc: (float) number of cycles for wavelet
mode: (str) feature to extract, e.g., [‘complex’,’filtered’,’phase’,’magnitude’,’power’]
ignore_sessions: (bool) ignore sessions or extract separately by sessions if available.</p>
</dd>
<dt>Returns:</dt><dd><p>convolved: (Fex instance)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-feat.plotting">
<span id="feat-plotting-module"></span><h1>feat.plotting module<a class="headerlink" href="#module-feat.plotting" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt id="feat.plotting.draw_lineface">
<code class="sig-prename descclassname">feat.plotting.</code><code class="sig-name descname">draw_lineface</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">currx</span></em>, <em class="sig-param"><span class="n">curry</span></em>, <em class="sig-param"><span class="n">ax</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">color</span><span class="o">=</span><span class="default_value">'k'</span></em>, <em class="sig-param"><span class="n">linestyle</span><span class="o">=</span><span class="default_value">'-'</span></em>, <em class="sig-param"><span class="n">linewidth</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">gaze</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.plotting.draw_lineface" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot Line Face</p>
<dl class="simple">
<dt>Args:</dt><dd><p>currx: vector (len(68)) of x coordinates
curry: vector (len(68)) of y coordinates
ax: matplotlib axis to add
color: matplotlib line color
linestyle: matplotlib linestyle
linewidth: matplotlib linewidth
gaze: array (len(4)) of gaze vectors (fifth value is whether to draw vectors)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="feat.plotting.draw_muscles">
<code class="sig-prename descclassname">feat.plotting.</code><code class="sig-name descname">draw_muscles</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">currx</span></em>, <em class="sig-param"><span class="n">curry</span></em>, <em class="sig-param"><span class="n">au</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ax</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.plotting.draw_muscles" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw Muscles</p>
<dl class="simple">
<dt>Args:</dt><dd><p>currx: vector (len(68)) of x coordinates
curry: vector (len(68)) of y coordinates
ax: matplotlib axis to add</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="feat.plotting.draw_vectorfield">
<code class="sig-prename descclassname">feat.plotting.</code><code class="sig-name descname">draw_vectorfield</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">reference</span></em>, <em class="sig-param"><span class="n">target</span></em>, <em class="sig-param"><span class="n">color</span><span class="o">=</span><span class="default_value">'r'</span></em>, <em class="sig-param"><span class="n">scale</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">width</span><span class="o">=</span><span class="default_value">0.007</span></em>, <em class="sig-param"><span class="n">ax</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.plotting.draw_vectorfield" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw vectorfield from reference to target</p>
<dl class="simple">
<dt>Args:</dt><dd><p>reference: reference landmarks (2,68)
target: target landmarks (2,68)
ax: matplotlib axis instance
au: vector of action units (len(17))</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="feat.plotting.get_heat">
<code class="sig-prename descclassname">feat.plotting.</code><code class="sig-name descname">get_heat</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">muscle</span></em>, <em class="sig-param"><span class="n">au</span></em>, <em class="sig-param"><span class="n">log</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.plotting.get_heat" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to create heatmap from au vector</p>
<dl class="simple">
<dt>Args:</dt><dd><p>muscle (string): string representation of a muscle
au (list): vector of action units
log (boolean): whether the action unit values are on a log scale</p>
</dd>
<dt>Returns:</dt><dd><p>color of muscle according to its au value</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="feat.plotting.plot_face">
<code class="sig-prename descclassname">feat.plotting.</code><code class="sig-name descname">plot_face</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">au</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">vectorfield</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">muscles</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ax</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">feature_range</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">color</span><span class="o">=</span><span class="default_value">'k'</span></em>, <em class="sig-param"><span class="n">linewidth</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">linestyle</span><span class="o">=</span><span class="default_value">'-'</span></em>, <em class="sig-param"><span class="n">gaze</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.plotting.plot_face" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to plot facesself</p>
<dl class="simple">
<dt>Args:</dt><dd><p>model: sklearn PLSRegression instance
au: vector of action units (same length as model.n_components)
vectorfield: (dict) {‘target’:target_array,’reference’:reference_array}
muscles: (dict) {‘muscle’: color}
ax: matplotlib axis handle
feature_range (tuple, default: None): If a tuple with (min, max),  scale input AU intensities to (min, max) before prediction.
color: matplotlib color
linewidth: matplotlib linewidth
linestyle: matplotlib linestyle
gaze: array of gaze vectors (len(4))</p>
</dd>
<dt>Returns:</dt><dd><p>ax: plot handle</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="feat.plotting.predict">
<code class="sig-prename descclassname">feat.plotting.</code><code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">au</span></em>, <em class="sig-param"><span class="n">model</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">feature_range</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.plotting.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to predict landmarks from au given a sklearn model</p>
<dl class="simple">
<dt>Args:</dt><dd><p>au: vector of action unit intensities
model: sklearn pls object (uses pretrained model by default)
feature_range (tuple, default: None): If a tuple with (min, max),  scale input AU intensities to (min, max) before prediction.</p>
</dd>
<dt>Returns:</dt><dd><p>landmarks: Array of landmarks (2,68)</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-feat.utils">
<span id="feat-utils-module"></span><h1>feat.utils module<a class="headerlink" href="#module-feat.utils" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt id="feat.utils.get_resource_path">
<code class="sig-prename descclassname">feat.utils.</code><code class="sig-name descname">get_resource_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#feat.utils.get_resource_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Get path to feat resource directory.</p>
</dd></dl>

<dl class="py function">
<dt id="feat.utils.load_h5">
<code class="sig-prename descclassname">feat.utils.</code><code class="sig-name descname">load_h5</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_name</span><span class="o">=</span><span class="default_value">'pyfeat_aus_to_landmarks.h5'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.utils.load_h5" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the h5 PLS model for plotting.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>file_name (str, optional): Specify model to load.. Defaults to ‘blue.h5’.</p>
</dd>
<dt>Returns:</dt><dd><p>model: PLS model</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="feat.utils.read_affectiva">
<code class="sig-prename descclassname">feat.utils.</code><code class="sig-name descname">read_affectiva</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">affectivafile</span></em>, <em class="sig-param"><span class="n">orig_cols</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.utils.read_affectiva" title="Permalink to this definition">¶</a></dt>
<dd><p>This function reads in affectiva file processed through the <a class="reference external" href="https://github.com/cosanlab/affectiva-api-app">https://github.com/cosanlab/affectiva-api-app</a>.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>affectivafile: file to read
orig_cols: If True, convert original colnames to FACS names</p>
</dd>
<dt>Returns:</dt><dd><p>Fex of processed facial expressions</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="feat.utils.read_facet">
<code class="sig-prename descclassname">feat.utils.</code><code class="sig-name descname">read_facet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">facetfile</span></em>, <em class="sig-param"><span class="n">features</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">raw</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">sampling_freq</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.utils.read_facet" title="Permalink to this definition">¶</a></dt>
<dd><p>This function reads in an iMotions-FACET exported facial expression file.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>facetfile: iMotions-FACET file. Files from iMotions 5, 6, and 7 have been tested and supported
features: If a list of iMotion-FACET column names are passed, those are returned. Otherwise, default columns are returned in the following format:[‘Timestamp’,’FaceRectX’,’FaceRectY’,’FaceRectWidth’,’FaceRectHeight’, ‘Joy’,’Anger’,’Surprise’,’Fear’,’Contempt’, ‘Disgust’,’Sadness’,’Confusion’,’Frustration’, ‘Neutral’,’Positive’,’Negative’,’AU1’,’AU2’, ‘AU4’,’AU5’,’AU6’,’AU7’,’AU9’,’AU10’, ‘AU12’,’AU14’,’AU15’,’AU17’,’AU18’,’AU20’, ‘AU23’,’AU24’,’AU25’,’AU26’,’AU28’,’AU43’, ‘Yaw’, ‘Pitch’, ‘Roll’]. Note that these column names are different from the original files which has ‘ Evidence’, ‘ Degrees’ appended to each column.
raw (default=False): Set to True to return all columns without processing.
sampling_freq: sampling frequency to pass to Fex</p>
</dd>
<dt>Returns:</dt><dd><p>dataframe of processed facial expressions</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="feat.utils.read_openface">
<code class="sig-prename descclassname">feat.utils.</code><code class="sig-name descname">read_openface</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">openfacefile</span></em>, <em class="sig-param"><span class="n">features</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.utils.read_openface" title="Permalink to this definition">¶</a></dt>
<dd><p>This function reads in an OpenFace exported facial expression file.
Args:</p>
<blockquote>
<div><blockquote>
<div><p>features: If a list of column names are passed, those are returned. Otherwise, default returns the following features:
[‘frame’, ‘timestamp’, ‘confidence’, ‘success’, ‘gaze_0_x’,</p>
</div></blockquote>
<p>‘gaze_0_y’, ‘gaze_0_z’, ‘gaze_1_x’, ‘gaze_1_y’, ‘gaze_1_z’,
‘pose_Tx’, ‘pose_Ty’, ‘pose_Tz’, ‘pose_Rx’, ‘pose_Ry’, ‘pose_Rz’,
‘x_0’, ‘x_1’, ‘x_2’, ‘x_3’, ‘x_4’, ‘x_5’, ‘x_6’, ‘x_7’, ‘x_8’,
‘x_9’, ‘x_10’, ‘x_11’, ‘x_12’, ‘x_13’, ‘x_14’, ‘x_15’, ‘x_16’,
‘x_17’, ‘x_18’, ‘x_19’, ‘x_20’, ‘x_21’, ‘x_22’, ‘x_23’, ‘x_24’,
‘x_25’, ‘x_26’, ‘x_27’, ‘x_28’, ‘x_29’, ‘x_30’, ‘x_31’, ‘x_32’,
‘x_33’, ‘x_34’, ‘x_35’, ‘x_36’, ‘x_37’, ‘x_38’, ‘x_39’, ‘x_40’,
‘x_41’, ‘x_42’, ‘x_43’, ‘x_44’, ‘x_45’, ‘x_46’, ‘x_47’, ‘x_48’,
‘x_49’, ‘x_50’, ‘x_51’, ‘x_52’, ‘x_53’, ‘x_54’, ‘x_55’, ‘x_56’,
‘x_57’, ‘x_58’, ‘x_59’, ‘x_60’, ‘x_61’, ‘x_62’, ‘x_63’, ‘x_64’,
‘x_65’, ‘x_66’, ‘x_67’, ‘y_0’, ‘y_1’, ‘y_2’, ‘y_3’, ‘y_4’, ‘y_5’,
‘y_6’, ‘y_7’, ‘y_8’, ‘y_9’, ‘y_10’, ‘y_11’, ‘y_12’, ‘y_13’, ‘y_14’,
‘y_15’, ‘y_16’, ‘y_17’, ‘y_18’, ‘y_19’, ‘y_20’, ‘y_21’, ‘y_22’,
‘y_23’, ‘y_24’, ‘y_25’, ‘y_26’, ‘y_27’, ‘y_28’, ‘y_29’, ‘y_30’,
‘y_31’, ‘y_32’, ‘y_33’, ‘y_34’, ‘y_35’, ‘y_36’, ‘y_37’, ‘y_38’,
‘y_39’, ‘y_40’, ‘y_41’, ‘y_42’, ‘y_43’, ‘y_44’, ‘y_45’, ‘y_46’,
‘y_47’, ‘y_48’, ‘y_49’, ‘y_50’, ‘y_51’, ‘y_52’, ‘y_53’, ‘y_54’,
‘y_55’, ‘y_56’, ‘y_57’, ‘y_58’, ‘y_59’, ‘y_60’, ‘y_61’, ‘y_62’,
‘y_63’, ‘y_64’, ‘y_65’, ‘y_66’, ‘y_67’, ‘X_0’, ‘X_1’, ‘X_2’, ‘X_3’,
‘X_4’, ‘X_5’, ‘X_6’, ‘X_7’, ‘X_8’, ‘X_9’, ‘X_10’, ‘X_11’, ‘X_12’,
‘X_13’, ‘X_14’, ‘X_15’, ‘X_16’, ‘X_17’, ‘X_18’, ‘X_19’, ‘X_20’,
‘X_21’, ‘X_22’, ‘X_23’, ‘X_24’, ‘X_25’, ‘X_26’, ‘X_27’, ‘X_28’,
‘X_29’, ‘X_30’, ‘X_31’, ‘X_32’, ‘X_33’, ‘X_34’, ‘X_35’, ‘X_36’,
‘X_37’, ‘X_38’, ‘X_39’, ‘X_40’, ‘X_41’, ‘X_42’, ‘X_43’, ‘X_44’,
‘X_45’, ‘X_46’, ‘X_47’, ‘X_48’, ‘X_49’, ‘X_50’, ‘X_51’, ‘X_52’,
‘X_53’, ‘X_54’, ‘X_55’, ‘X_56’, ‘X_57’, ‘X_58’, ‘X_59’, ‘X_60’,
‘X_61’, ‘X_62’, ‘X_63’, ‘X_64’, ‘X_65’, ‘X_66’, ‘X_67’, ‘Y_0’,
‘Y_1’, ‘Y_2’, ‘Y_3’, ‘Y_4’, ‘Y_5’, ‘Y_6’, ‘Y_7’, ‘Y_8’, ‘Y_9’,
‘Y_10’, ‘Y_11’, ‘Y_12’, ‘Y_13’, ‘Y_14’, ‘Y_15’, ‘Y_16’, ‘Y_17’,
‘Y_18’, ‘Y_19’, ‘Y_20’, ‘Y_21’, ‘Y_22’, ‘Y_23’, ‘Y_24’, ‘Y_25’,
‘Y_26’, ‘Y_27’, ‘Y_28’, ‘Y_29’, ‘Y_30’, ‘Y_31’, ‘Y_32’, ‘Y_33’,
‘Y_34’, ‘Y_35’, ‘Y_36’, ‘Y_37’, ‘Y_38’, ‘Y_39’, ‘Y_40’, ‘Y_41’,
‘Y_42’, ‘Y_43’, ‘Y_44’, ‘Y_45’, ‘Y_46’, ‘Y_47’, ‘Y_48’, ‘Y_49’,
‘Y_50’, ‘Y_51’, ‘Y_52’, ‘Y_53’, ‘Y_54’, ‘Y_55’, ‘Y_56’, ‘Y_57’,
‘Y_58’, ‘Y_59’, ‘Y_60’, ‘Y_61’, ‘Y_62’, ‘Y_63’, ‘Y_64’, ‘Y_65’,
‘Y_66’, ‘Y_67’, ‘Z_0’, ‘Z_1’, ‘Z_2’, ‘Z_3’, ‘Z_4’, ‘Z_5’, ‘Z_6’,
‘Z_7’, ‘Z_8’, ‘Z_9’, ‘Z_10’, ‘Z_11’, ‘Z_12’, ‘Z_13’, ‘Z_14’, ‘Z_15’,
‘Z_16’, ‘Z_17’, ‘Z_18’, ‘Z_19’, ‘Z_20’, ‘Z_21’, ‘Z_22’, ‘Z_23’,
‘Z_24’, ‘Z_25’, ‘Z_26’, ‘Z_27’, ‘Z_28’, ‘Z_29’, ‘Z_30’, ‘Z_31’,
‘Z_32’, ‘Z_33’, ‘Z_34’, ‘Z_35’, ‘Z_36’, ‘Z_37’, ‘Z_38’, ‘Z_39’,
‘Z_40’, ‘Z_41’, ‘Z_42’, ‘Z_43’, ‘Z_44’, ‘Z_45’, ‘Z_46’, ‘Z_47’,
‘Z_48’, ‘Z_49’, ‘Z_50’, ‘Z_51’, ‘Z_52’, ‘Z_53’, ‘Z_54’, ‘Z_55’,
‘Z_56’, ‘Z_57’, ‘Z_58’, ‘Z_59’, ‘Z_60’, ‘Z_61’, ‘Z_62’, ‘Z_63’,
‘Z_64’, ‘Z_65’, ‘Z_66’, ‘Z_67’, ‘p_scale’, ‘p_rx’, ‘p_ry’, ‘p_rz’,
‘p_tx’, ‘p_ty’, ‘p_0’, ‘p_1’, ‘p_2’, ‘p_3’, ‘p_4’, ‘p_5’, ‘p_6’,
‘p_7’, ‘p_8’, ‘p_9’, ‘p_10’, ‘p_11’, ‘p_12’, ‘p_13’, ‘p_14’, ‘p_15’,
‘p_16’, ‘p_17’, ‘p_18’, ‘p_19’, ‘p_20’, ‘p_21’, ‘p_22’, ‘p_23’,
‘p_24’, ‘p_25’, ‘p_26’, ‘p_27’, ‘p_28’, ‘p_29’, ‘p_30’, ‘p_31’,
‘p_32’, ‘p_33’, ‘AU01_r’, ‘AU02_r’, ‘AU04_r’, ‘AU05_r’, ‘AU06_r’,
‘AU07_r’, ‘AU09_r’, ‘AU10_r’, ‘AU12_r’, ‘AU14_r’, ‘AU15_r’,
‘AU17_r’, ‘AU20_r’, ‘AU23_r’, ‘AU25_r’, ‘AU26_r’, ‘AU45_r’,
‘AU01_c’, ‘AU02_c’, ‘AU04_c’, ‘AU05_c’, ‘AU06_c’, ‘AU07_c’,
‘AU09_c’, ‘AU10_c’, ‘AU12_c’, ‘AU14_c’, ‘AU15_c’, ‘AU17_c’,
‘AU20_c’, ‘AU23_c’, ‘AU25_c’, ‘AU26_c’, ‘AU28_c’, ‘AU45_c’]</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>dataframe of processed facial expressions</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="feat.utils.registration">
<code class="sig-prename descclassname">feat.utils.</code><code class="sig-name descname">registration</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">face_lms</span></em>, <em class="sig-param"><span class="n">neutral</span><span class="o">=</span><span class="default_value">array([[37.51499407, 118.99554304], [38.34746726, 135.93119299], [40.77550103, 152.83280453], [44.10928582, 169.12794022], [49.98283172, 184.53328584], [59.18894827, 198.0161361], [70.41509055, 209.2829929], [83.65962788, 217.82577978], [98.67478614, 220.00636722], [113.36502269, 217.35622274], [126.09720342, 208.6155414], [137.37278217, 197.26636201], [146.15109522, 183.95054535], [151.72032547, 168.70328048], [154.90171534, 152.54959547], [157.01705756, 136.07919401], [157.81240022, 119.28714732], [45.87342276, 109.05187535], [53.83702202, 101.43275043], [65.6123153, 99.44649503], [77.49003982, 101.34627038], [88.31833069, 105.66229287], [108.80512998, 105.18583249], [120.18051884, 100.8485088], [131.67122653, 99.22426247], [142.80408737, 101.39810664], [150.09271076, 108.74640334], [98.93955017, 117.16643104], [99.0113979, 128.44882091], [99.09059392, 139.7133518], [99.22411613, 151.32196735], [85.97238779, 158.19140086], [92.20644686, 160.61659752], [98.67862474, 162.56437315], [105.26853264, 160.62509056], [111.14227857, 158.32687793], [59.22833204, 118.63189571], [66.08746862, 114.39263502], [74.66886627, 114.59919006], [81.80683311, 120.00819189], [74.3442616, 121.70551759], [65.72377694, 121.82223252], [114.75228899, 119.90654628], [122.2983238, 114.26349216], [130.61954433, 114.38399043], [137.03708639, 118.48489575], [131.21518765, 121.51217889], [122.97461038, 121.56526096], [75.39827955, 179.40706409], [84.55991401, 176.2145797], [92.90235587, 174.4243212], [98.56534032, 176.06536597], [104.97777373, 174.45766844], [113.11257495, 176.39970964], [121.19973609, 179.19790185], [113.16310624, 185.69051009], [105.26365305, 188.31443911], [98.41771871, 188.96563941], [92.22402827, 188.38538897], [84.05109731, 185.74954658], [79.18422925, 179.80657222], [92.71723171, 179.52017819], [98.52973445, 180.16303655], [105.05932173, 179.42368921], [117.43706438, 179.71092599], [104.90869095, 180.32984592], [98.35933953, 181.1598177], [92.49485175, 180.48994809]])</span></em>, <em class="sig-param"><span class="n">method</span><span class="o">=</span><span class="default_value">'fullface'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.utils.registration" title="Permalink to this definition">¶</a></dt>
<dd><p>Register faces to a neutral face.</p>
<p>Affine registration of face landmarks to neutral face.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>face_lms(array): face landmarks to register with shape (n,136). Columns 0~67 are x coordinates and 68~136 are y coordinates
neutral(array): target neutral face array that face_lm will be registered
method(str or list): If string, register to all landmarks (‘fullface’, default), or inner parts of face nose,mouth,eyes, and brows (‘inner’). If list, pass landmarks to register to e.g. [27, 28, 29, 30, 36, 39, 42, 45]</p>
</dd>
<dt>Return:</dt><dd><p>registered_lms: registered landmarks in shape (n,136)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="feat.utils.softmax">
<code class="sig-prename descclassname">feat.utils.</code><code class="sig-name descname">softmax</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="headerlink" href="#feat.utils.softmax" title="Permalink to this definition">¶</a></dt>
<dd><p>Softmax function to change log likelihood evidence values to probabilities.
Use with Evidence values from FACET.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>x: value to softmax</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-feat.version">
<span id="feat-version-module"></span><h1>feat.version module<a class="headerlink" href="#module-feat.version" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="module-feat">
<span id="module-contents"></span><h1>Module contents<a class="headerlink" href="#module-feat" title="Permalink to this headline">¶</a></h1>
<p>Top-level package for FEAT.</p>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./api"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="../content/modelContribution.html" title="previous page">Contributing new detectors</a>
    <a class='right-next' id="next-link" href="../content/contribute.html" title="next page">Contribute</a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Jin Hyun Cheong<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../_static/js/index.d3f166471bb80abb5163.js"></script>


    
  </body>
</html>